<?xml version="1.0" encoding="utf-8"?>
<!-- 숨바꼭질 실외A -->
<ms2>  
  <!-- None -->
  <state name="None" > 
    <onEnter> 
      <action name="CreateFieldGame" type="HideAndSeek" reset="1"/>
     
      <!-- TriggerID 시작 -->
      <action name="FieldGameConstant" key="BeginTriggerID" value="1"/>
      <!-- TriggerID 끝 -->
      <action name="FieldGameConstant" key="EndTriggerID" value="36"/>
    
	  <!-- HideObject 시작 -->
      <action name="FieldGameConstant" key="BeginHideObjectID" value="1"/>
      <!-- HideObject 끝 -->
      <action name="FieldGameConstant" key="EndHideObjectID" value="91"/>
      <!-- 숨바꼭질 플레이를 위한 최소 유저수 -->
      <action name="FieldGameConstant" key="RequireUserCount" value="2"/>
      <!-- 숨바꼭질 플레이어 입장 대기 시간-->
      <action name="FieldGameConstant" key="EnterableSeconds" value="60"/>
      <!-- 숨바꼭질 게임룰 설명 시간-->
      <action name="FieldGameConstant" key="GameRuleNoticeTick" value="10000"/>
      <!-- 방폭 진행 소요 시간-->
      <action name="FieldGameConstant" key="ShortOfUserTick" value="10000"/>
      <!-- 편 나누기 소요 시간 -->
      <action name="FieldGameConstant" key="DivideTeamsSeconds" value="5"/>
      <!-- 유저가 게임포탈로 이동할 동안 카메라 무빙 소요 시간 -->
      <action name="FieldGameConstant" key="MoveGameAreaTick" value="2000"/>
      <!-- 사물팀 숨는 소요 시간 -->
      <action name="FieldGameConstant" key="BeInHidingTeamsSeconds" value="30"/>
      <!-- 술래팀 사물찾는데 소요 시간 -->
      <action name="FieldGameConstant" key="LookingForATeamsSeconds" value="150"/>
      <!-- 승패 알림 소요 시간 -->
      <action name="FieldGameConstant" key="TeamMatchResultTick" value="15000"/>
      <!-- 숨바꼭질 게임종료 설명 시간-->
      <action name="FieldGameConstant" key="GameExitNoticeTick" value="10000"/>
      <!-- 사물팀 경험치 할당 주기 -->
      <action name="FieldGameConstant" key="HideTeamExpDurationTick" value="30000"/>
      <!-- 술래팀 무적 시간 (전체 시간에서 아래 시간 만큼 남았을때 발동.)-->
      <action name="FieldGameConstant" key="SeekTeamInvincibleTick" value="20000"/>
      <!-- 술래팀 무적 안내 시간-->
      <action name="FieldGameConstant" key="InvincibleNoticeTick" value="7000"/>
      <!-- 술래팀 무적 안내 메세지-->
      <action name="FieldGameConstant" key="InvincibleMessage" value="$61000023_ME__61000023_MAIN__6$"/>

      <!-- 대기지역 포탈 아이디 -->
      <action name="FieldGameConstant" key="PortalWaitAreaID" value="1"/>
      <!-- 게임지역 포탈 아이디 -->
      <action name="FieldGameConstant" key="PortalGameAreaID" value="10"/>
      <!-- 탈락지역 포탈 아이디 -->
      <action name="FieldGameConstant" key="PortalFailAreaID" value="20"/>
   
      <!-- 술래팀이 사용하는 SkillSet -->
      <action name="FieldGameConstant" key="SeekTeamSkillSetID" value="99930041"/>
   
      <!-- 관전 CameraID -->
      <action name="FieldGameConstant" key="WatchCameraID" value="101"/>
      
      <!-- 데일리 이벤트 -->
      <action name="FieldGameConstant" key="EventDailyQuestStart" value="dailyquest_start"/>
      <!-- 숨바꼭질 참여 이벤트 -->
      <action name="FieldGameConstant" key="EventHideAndSeekStart" value="hideandseek_start"/>
      <!-- 숨바꼭질 승리 이벤트 -->
      <action name="FieldGameConstant" key="EventHideAndSeekWin" value="hideandseek_win"/>

    </onEnter>
      
    <condition name="UserValue" key="WaitForEnterUser" value="1">
      <transition state="WaitForEnterUser" />
    </condition> 
  </state>   
  
      
       
    
  
  <!-- 유저를 대기 한다. -->
  <state name="WaitForEnterUser">
    <onEnter>
      <!-- 숨바꼭질 플레이어 입장 대기 시간-->
      <action name="SetTimer" arg1="1" arg2="60" arg3="1" arg4="1" />
    </onEnter>

    <condition name="UserValue" key="GameRuleNotice" value="1">
      <transition state="GameRuleNotice" />
    </condition>

    <condition name="UserValue" key="ShortOfUser" value="1">
      <transition state="ShortOfUser" />
    </condition>

    <condition name="WaitAndResetTick" waitTick="5000" >
      <action name="ShowGuideSummary" entityID="26500301" textID="26500301" duration="4500"/>
    </condition>

    <onExit>
      <action name="ResetTimer" arg1="1" />
      <action name="HideGuideSummary" entityID="26500301"/>
    </onExit> 
  </state>





     <!-- 게임룰을 설명한다. -->
  <state name="GameRuleNotice">
    <onEnter>
      <!-- 숨바꼭질 게임룰 설명 시간-->
      <action name="SetEventUI" arg1="1" arg2="$61000023_ME__61000023_MAIN__1$" arg3="10000" />
    </onEnter>
    
    <condition name="UserValue" key="DivideIntoTeams" value="1">
      <transition state="DivideIntoTeams" />
    </condition>

    <onExit>
    </onExit>
  </state>  
  
  
  
  <!-- 팀 나누기 -->
  <state name="DivideIntoTeams">
    <onEnter>
      <!-- 편 나누기 시간 -->
      <action name="ShowCountUI" text="$61000023_ME__61000023_MAIN__0$" stage="0" count="5"  />
    </onEnter>

    <condition name="UserValue" key="MoveGameArea" value="1">
      <transition state="MoveGameArea" />
    </condition>

    <condition name="UserValue" key="ShortOfUser" value="1">
      <transition state="ShortOfUser" />
    </condition>
  </state>





  <!-- 유저가 게임포탈로 이동할 동안 카메라 무빙 -->
  <state name="MoveGameArea">
    <condition name="UserValue" key="BeInHidingTeams" value="1">
      <transition state="BeInHidingTeams" />
    </condition>

    <condition name="UserValue" key="ShortOfUser" value="1">
      <transition state="ShortOfUser" />
    </condition>
  </state>
  
    
   
  
  <!-- 사물로 숨기 -->
  <state name="BeInHidingTeams">
    <onEnter>
      <!-- 사물팀 숨는 소요 시간 -->
      <action name="SetTimer" arg1="1" arg2="30" arg3="1" arg4="1" />      
      <action name="FieldGameMessage" custom="1" type="SetEventUI" arg1="1" arg2="$61000023_ME__61000023_MAIN__2$" arg3="30000" />
      <action name="FieldGameMessage" custom="2" type="SetEventUI" arg1="1" arg2="$61000023_ME__61000023_MAIN__3$" arg3="30000" />
    </onEnter>

    <condition name="UserValue" key="LookingForATeams" value="1">
      <transition state="LookingForATeams" />
    </condition>
 
    <condition name="UserValue" key="TeamMatchResult" value="1">
      <transition state="TeamMatchResult" />
    </condition>

    <onExit>
      <action name="ResetTimer" arg1="1" />
    </onExit>
  </state> 


 
    

  <!-- 술래잡기 시작 -->
  <state name="LookingForATeams">
    <onEnter>
      <!-- 술래팀 사물찾는데 소요 시간 -->
      <action name="SetTimer" arg1="1" arg2="150" arg3="1" arg4="1" />
    </onEnter>

    <condition name="UserValue" key="TeamMatchResult" value="1">
      <transition state="TeamMatchResult" />
    </condition>

    <onExit>
      <action name="ResetTimer" arg1="1" />
    </onExit>
  </state>





  <!-- 숨바꼭질 승패 결정 -->
  <state name="TeamMatchResult">
    <condition name="UserValue" key="GameExitNotice" value="1">
      <transition state="GameExitNotice" />
    </condition>
  </state>





  <!-- 게임종료를 설명한다. -->
  <state name="GameExitNotice">
    <onEnter>
      <!-- 숨바꼭질 게임종료 설명 시간-->
      <action name="SetEventUI" arg1="1" arg2="$61000023_ME__61000023_MAIN__4$" arg3="10000" />
    </onEnter>

    <condition name="UserValue" key="End" value="1">
      <transition state="End" />
    </condition>

    <onExit>
    </onExit>
  </state>
  
  
  
  
  
  <!-- 플레이어 부족으로 방폭 메세지 -->
  <state name="ShortOfUser">
    <onEnter>
      <!-- 방폭 진행 시간 단위-->
      <action name="SetEventUI" arg1="1" arg2="$61000023_ME__61000023_MAIN__5$" arg3="10000" />
    </onEnter>

    <condition name="UserValue" key="End" value="1">
      <transition state="End" />
    </condition>
  </state>
   
   
  
  
  
  <!-- 게임종료 -->
  <state name="End">
    <onEnter>
      <action name="유저를이동시킨다" arg1="0" arg2="0" arg3="" />
    </onEnter>
  </state>
</ms2>